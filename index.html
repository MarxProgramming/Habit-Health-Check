<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Habit Health Check</title>
  <!-- Tailwind CSS via CDN for quick styling -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <style>
    /* Custom utility classes not provided by Tailwind */
    /* Enhanced card styling with gradient background, rounded corners and drop shadow */
    .card {
      background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
      border-radius: 1rem;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }
    .dark .card {
      background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
      color: #e5e7eb;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
    }
    /* Fancy primary button with gradient and slight lift on hover */
    .button-primary {
      background: linear-gradient(to right, #34d399, #60a5fa);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      font-weight: 600;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .button-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    /* Secondary button with subtle gradient */
    .button-secondary {
      background: linear-gradient(to right, #f3f4f6, #e5e7eb);
      color: #374151;
      padding: 0.5rem 1rem;
      border: 1px solid #d1d5db;
      border-radius: 0.5rem;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .button-secondary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    /* Progress bar styling */
    .progress-outer {
      width: 100%;
      height: 8px;
      background-color: #e5e7eb;
      border-radius: 4px;
      overflow: hidden;
    }
    .progress-inner {
      height: 100%;
      background: linear-gradient(to right, #34d399, #60a5fa);
      border-radius: 4px;
    }
    /* Rating circle styling for scores */
    .rating-circle {
      border-radius: 9999px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    /* Fade-in animation for question containers */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .fade-in {
      animation: fadeIn 0.4s ease-out;
    }
    /* Pastel gradient background on the entire page */
    body {
      background: linear-gradient(to bottom right, #fdf5e6, #fde68a, #faf5ff);
      min-height: 100vh;
    }

    /* Dark mode background gradient */
    .dark {
      background: linear-gradient(to bottom right, #1e293b, #0f172a);
      color: #e5e7eb;
    }
  </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 p-4">
  <div id="app" class="max-w-2xl mx-auto"></div>
  <!-- Embed configuration data so the script can read it without fetching -->
  <script id="config-data" type="application/json">
    {
      "markers": [
        {
          "id": "alcohol",
          "label": "Alcohol units per week",
          "unit": "units/week",
          "baseline": 10,
          "bands": { "mild": 14, "moderate": 21, "high": 28 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": false,
          "citation": 1,
          "description": "Drinking more than 14 units weekly increases health risks"
        },
        {
          "id": "nicotine",
          "label": "Nicotine milligrams per day",
          "unit": "mg/day",
          "baseline": 0,
          "bands": { "mild": 1, "moderate": 20, "high": 40 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": false,
          "citation": 2,
          "description": "No tobacco product is safe and nicotine is highly addictive"
        },
        {
          "id": "caffeine",
          "label": "Caffeine milligrams per day",
          "unit": "mg/day",
          "baseline": 200,
          "bands": { "mild": 400, "moderate": 600, "high": 800 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": false,
          "citation": 3,
          "description": "Up to 400 mg caffeine daily is generally safe for most adults"
        },
        {
          "id": "sleep",
          "label": "Sleep hours per night",
          "unit": "hours/night",
          "baseline": 7.5,
          "bands": { "mild": 7, "moderate": 6, "high": 5 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": true,
          "citation": 4,
          "description": "Adults typically need about 7–9 hours of sleep each night"
        },
        {
          "id": "strength_training",
          "label": "Strength training minutes per day",
          "unit": "minutes/day",
          "baseline": 20,
          "bands": { "mild": 20, "moderate": 10, "high": 5 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": true,
          "citation": 5,
          "description": "Guidelines recommend muscle‑strengthening activities on at least two days per week; around 20 minutes daily is a good target"
        },
        {
          "id": "cardio",
          "label": "Zone‑2 cardio minutes per day",
          "unit": "minutes/day",
          "baseline": 22,
          "bands": { "mild": 22, "moderate": 11, "high": 5 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": true,
          "citation": 5,
          "description": "Aim for at least 150 minutes of moderate‑intensity activity per week (about 22 minutes daily)"
        },
        {
          "id": "social_media",
          "label": "Social‑media minutes per day",
          "unit": "minutes/day",
          "baseline": 120,
          "bands": { "mild": 120, "moderate": 180, "high": 240 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": false,
          "citation": 6,
          "description": "Using social media more than about three hours daily doubles mental health risks"
        },
        {
          "id": "porn",
          "label": "Porn sessions per week",
          "unit": "sessions/week",
          "baseline": 1,
          "bands": { "mild": 2, "moderate": 4, "high": 7 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": false,
          "citation": 7,
          "description": "Frequent pornography consumption predicts higher anxiety, depression and stress"
        },
        {
          "id": "fast_food",
          "label": "Fast‑food meals per week",
          "unit": "meals/week",
          "baseline": 1,
          "bands": { "mild": 2, "moderate": 3, "high": 5 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": false,
          "citation": 8,
          "description": "Fast‑food meals are often high in calories, fat, sugar and salt"
        },
        {
          "id": "tooth_brushing",
          "label": "Tooth‑brushing times per day",
          "unit": "times/day",
          "baseline": 2,
          "bands": { "mild": 2, "moderate": 1, "high": 0 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": true,
          "citation": 9,
          "description": "Brush twice daily with fluoride toothpaste for healthy teeth and gums"
        },
        {
          "id": "sugary_drinks",
          "label": "Sugary drinks per week",
          "unit": "drinks/week",
          "baseline": 3,
          "bands": { "mild": 3, "moderate": 6, "high": 10 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": false,
          "citation": 11,
          "description": "Frequently drinking sugar-sweetened beverages is associated with weight gain, diabetes and heart disease"
        },
        {
          "id": "social_connections",
          "label": "Times you see friends per week",
          "unit": "times/week",
          "baseline": 3,
          "bands": { "mild": 3, "moderate": 2, "high": 1 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": true,
          "citation": 12,
          "description": "Regular social connection reduces health risks while loneliness increases mortality risk"
        },
        {
          "id": "fruit_veg",
          "label": "Fruit and veg portions per day",
          "unit": "portions/day",
          "baseline": 4,
          "bands": { "mild": 5, "moderate": 3, "high": 2 },
          "penalties": { "mild": 2, "moderate": 5, "high": 8 },
          "invert": true,
          "citation": 10,
          "description": "Everyone should eat at least five portions of fruit and vegetables every day"
        }
      ],
      "regions": {
        "uk": {
          "label": "United Kingdom",
          "description": "UK baseline for adults aged 25–35",
          "baselines": {
            "alcohol": 12,
            "nicotine": 5,
            "caffeine": 210,
            "sleep": 7,
            "strength_training": 10,
            "cardio": 15,
            "social_media": 150,
            "porn": 1,
            "fast_food": 2,
            "tooth_brushing": 2
          }
        }
      }
    }
  </script>
  <!-- Include dependencies via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <!-- Main application logic -->
  <script src="script.js" defer></script>
</body>
</html>